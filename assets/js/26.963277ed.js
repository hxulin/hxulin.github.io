(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{925:function(s,a,t){"use strict";t.r(a);var e=t(78),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"centos7-集群环境设置时区、主机名-配置-hosts-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#centos7-集群环境设置时区、主机名-配置-hosts-文件"}},[s._v("#")]),s._v(" CentOS7 集群环境设置时区、主机名，配置 hosts 文件")]),s._v(" "),t("post-meta",{staticStyle:{"margin-bottom":"1rem"},attrs:{date:"2021-03-27"}}),s._v(" "),t("p",[s._v("1、准备 3 台干净的 CentOS 虚拟机，假设为：node01、node02、node03")]),s._v(" "),t("p",[s._v("2、设置统一的时区")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("timedatectl set-timezone Asia/Shanghai  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3 台机器都执行")]),s._v("\n")])])]),t("p",[s._v("3、查看硬件时间")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("hwclock -r\n")])])]),t("p",[s._v("4、将硬件时钟同步到系统时钟")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("hwclock -s\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("若硬件时钟不对，可以手动更新系统时间，再同步到硬件。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置系统时间")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),s._v(" -s "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2021-03-27 14:03:00"')]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将系统时钟同步到硬件时钟")]),s._v("\nhwclock -w\n")])])])]),s._v(" "),t("p",[s._v("5、分别设置主机名为 node01，node02，node03")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("hostnamectl set-hostname node01  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# node01 执行")]),s._v("\nhostnamectl set-hostname node02  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# node02 执行")]),s._v("\nhostnamectl set-hostname node03  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# node03 执行")]),s._v("\n")])])]),t("p",[s._v("6、查看 3 台机器的 IP 地址")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" addr\n")])])]),t("p",[s._v("7、修改 hosts 文件")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/hosts  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3 台机器都执行")]),s._v("\n")])])]),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("192.168.202.211 node01\n192.168.202.212 node02\n192.168.202.213 node03\n")])])]),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("此处也可以直接使用以下命令修改 hosts 文件。")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF"),t("span",{pre:!0,attrs:{class:"token bash punctuation"}},[s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" /etc/hosts")]),s._v("\n192.168.202.211 node01\n192.168.202.212 node02\n192.168.202.213 node03\nEOF")]),s._v("\n")])])])]),s._v(" "),t("p",[s._v("8、重启网络服务（一般可省略此步）")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl restart network  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3 台机器都执行")]),s._v("\n")])])])],1)}),[],!1,null,null,null);a.default=n.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{928:function(s,a,t){"use strict";t.r(a);var n=t(78),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"nginx-编译安装-支持-https"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx-编译安装-支持-https"}},[s._v("#")]),s._v(" Nginx 编译安装，支持 HTTPS")]),s._v(" "),t("post-meta",{attrs:{date:"2021-04-10"}}),s._v(" "),t("h2",{attrs:{id:"安装准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装准备"}},[s._v("#")]),s._v(" 安装准备")]),s._v(" "),t("ul",[t("li",[s._v("CentOS7 操作系统")]),s._v(" "),t("li",[s._v("Nginx 1.16.1 源码包（nginx-1.16.1.tar.gz）")])]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/redhat-release  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# CentOS Linux release 7.9.2009 (Core)")]),s._v("\n")])])]),t("h2",{attrs:{id:"安装步骤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装步骤"}},[s._v("#")]),s._v(" 安装步骤")]),s._v(" "),t("h3",{attrs:{id:"安装编译-nginx-的基础依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装编译-nginx-的基础依赖"}},[s._v("#")]),s._v(" 安装编译 Nginx 的基础依赖")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("yum -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" gcc pcre-devel openssl-devel\n")])])]),t("h3",{attrs:{id:"配置安装目录-添加-ssl-模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置安装目录-添加-ssl-模块"}},[s._v("#")]),s._v(" 配置安装目录，添加 ssl 模块")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("./configure --prefix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/nginx --with-http_ssl_module\n")])])]),t("h3",{attrs:{id:"编译安装-nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编译安装-nginx"}},[s._v("#")]),s._v(" 编译安装 Nginx")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])])]),t("h3",{attrs:{id:"检查是否安装成功"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检查是否安装成功"}},[s._v("#")]),s._v(" 检查是否安装成功")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /usr/local "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" nginx\n")])])]),t("h3",{attrs:{id:"查看指定的编译参数是否起作用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看指定的编译参数是否起作用"}},[s._v("#")]),s._v(" 查看指定的编译参数是否起作用")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("/usr/local/nginx/sbin/nginx -V\n")])])]),t("h3",{attrs:{id:"设置-nginx-系统服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置-nginx-系统服务"}},[s._v("#")]),s._v(" 设置 Nginx 系统服务")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("EOF"),t("span",{pre:!0,attrs:{class:"token bash punctuation"}},[s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /usr/lib/systemd/system/nginx.service")]),s._v("\n[Unit]\nDescription=nginx service\nAfter=network.target\n\n[Service]\nType=forking\nExecStart=/usr/local/nginx/sbin/nginx\nExecReload=/usr/local/nginx/sbin/nginx -s reload\nExecStop=/usr/local/nginx/sbin/nginx -s quit\nPrivateTmp=true\n\n[Install]\nWantedBy=multi-user.target\n\nEOF")]),s._v("\n")])])]),t("h3",{attrs:{id:"刷新-systemctl-服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#刷新-systemctl-服务"}},[s._v("#")]),s._v(" 刷新 systemctl 服务")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl daemon-reload\n")])])]),t("h3",{attrs:{id:"设置开机自启"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置开机自启"}},[s._v("#")]),s._v(" 设置开机自启")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" nginx\n")])])]),t("h3",{attrs:{id:"使用-systemctl-管理-nginx-服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-systemctl-管理-nginx-服务"}},[s._v("#")]),s._v(" 使用 systemctl 管理 Nginx 服务")]),s._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看 nginx 运行状态")]),s._v("\nsystemctl status nginx\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 nginx")]),s._v("\nsystemctl start nginx\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 关闭 nginx")]),s._v("\nsystemctl stop nginx\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 nginx")]),s._v("\nsystemctl reload nginx\n")])])])],1)}),[],!1,null,null,null);a.default=e.exports}}]);